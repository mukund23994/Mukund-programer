<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>All Orders â€“ Admin Panel</title>

  <style>
    body {
      font-family: Arial;
      padding: 20px;
      background: #f7f7f7;
    }
    h2 {
      text-align: center;
      margin-bottom: 20px;
    }
    .order-box {
      background: white;
      padding: 15px;
      border-radius: 10px;
      margin-bottom: 20px;
      box-shadow: 0 3px 10px rgba(0,0,0,0.1);
    }
    .item {
      background: #eee;
      padding: 8px;
      margin: 5px 0;
      border-radius: 6px;
    }
    button {
      background: red;
      color: white;
      border: none;
      padding: 10px 14px;
      border-radius: 6px;
      cursor: pointer;
      margin-top: 10px;
      font-size: 15px;
    }
  </style>
</head>

<body>

<h2>ğŸ“¦ All Customer Orders</h2>

<div id="orders"></div>

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

<script>
  // ğŸ”¥ Your Firebase Config
  const firebaseConfig = {
    apiKey: "AIzaSyBu2IUZ2RpB_pv0zA5nXqL7ur0uKZc8btE",
    authDomain: "indian-sellar-marketplac-d6395.firebaseapp.com",
    databaseURL: "https://indian-sellar-marketplac-d6395-default-rtdb.asia-southeast1.firebasedatabase.app",
    projectId: "indian-sellar-marketplac-d6395",
    storageBucket: "indian-sellar-marketplac-d6395.firebasestorage.app",
    messagingSenderId: "35436518492",
    appId: "1:35436518492:web:24c75eb5b85cd8f7d71a99"
  };

  firebase.initializeApp(firebaseConfig);
  const db = firebase.database();

  // ğŸ”¥ Fetch All Orders
  function loadOrders() {
    db.ref("orders").on("value", snapshot => {
      let ordersDiv = document.getElementById("orders");
      ordersDiv.innerHTML = "";

      snapshot.forEach(order => {
        let data = order.val();

        let html = `
          <div class="order-box">
            <h3>ğŸ‘¤ ${data.name}</h3>
            <p><b>ğŸ“ Phone:</b> ${data.phone}</p>
            <p><b>ğŸ“ Address:</b> ${data.address}</p>
            <p><b>â± Time:</b> ${data.time}</p>
            <h4>ğŸ›’ Items:</h4>
        `;

        data.items.forEach(item => {
          html += `
            <div class="item">
              ${item.name} â€” â‚¹${item.price}
            </div>
          `;
        });

        html += `
            <button onclick="deleteOrder('${order.key}')">Delete Order</button>
          </div>
        `;

        ordersDiv.innerHTML += html;
      });
    });
  }

  // âŒ Delete Order
  function deleteOrder(id) {
    if (confirm("Are you sure you want to delete this order?")) {
      db.ref("orders/" + id).remove();
    }
  }

  loadOrders();
</script>

</body>
</html>
